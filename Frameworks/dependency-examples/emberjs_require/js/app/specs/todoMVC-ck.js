/**
 * TodoMVC Project Specs
 *
 * Use `runs` and `waits` to make sure results are run synchroneously
 */describe("TodoMVC features.",function(){var e=$.Event("keyup",{keyCode:13}),t="Foo Bar Todo";describe("Todo creation:",function(){beforeEach(function(){window.location.hash="#/"});it("should allow creating a new todo",function(){runs(function(){$("#new-todo").val(t).trigger(e)});waits(100);runs(function(){!!$("#todo-list li").text().match(t)})});it("should not allow adding an empty todo",function(){var t,n=$("#todo-list li").length;runs(function(){$("#new-todo").val("   ").trigger(e)});waits(100);runs(function(){expect($("#todo-list li").length).toEqual(n)})})});describe("Todo completion:",function(){it("should allow marking a todo complete",function(){var n,r=$("#todo-list li.completed").length,i=" to be completed";runs(function(){$("#new-todo").val(t+i).trigger(e)});waits(100);runs(function(){n=$("#todo-list li:last-child");expect(n.text()).toMatch(i);n.find(".toggle").click();expect($("#todo-list li.completed").length).toEqual(r+1)})});it("should allow clearing completed todos",function(){var n,r=$("#todo-list li.completed").length,i=" to be completed";runs(function(){$("#new-todo").val(t+i).trigger(e)});waits(100);runs(function(){n=$("#todo-list li:last-child");expect(n.text()).toMatch(i);n.find(".toggle").click();$("#clear-completed").click();expect($("#todo-list li.completed").length).toEqual(0)})})});describe("Todo deletion:",function(){it("should allow deleting a todo",function(){var n,r=$("#todo-list li").length,i=" to be deleted";runs(function(){$("#new-todo").val(t+i).trigger(e)});waits(100);runs(function(){n=$("#todo-list li:last-child");expect(n.text()).toMatch(i);n.find(".destroy").click();expect($("#todo-list li").length).toEqual(r)})})})});