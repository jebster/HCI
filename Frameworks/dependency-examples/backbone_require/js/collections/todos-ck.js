define(["underscore","backbone","lib/backbone/localstorage","models/todo"],function(e,t,n,r){var i=t.Collection.extend({model:r,localStorage:new n("todos-backbone"),completed:function(){return this.filter(function(e){return e.get("completed")})},remaining:function(){return this.without.apply(this,this.completed())},nextOrder:function(){return this.length?this.last().get("order")+1:1},comparator:function(e){return e.get("order")}});return new i});